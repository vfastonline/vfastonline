<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    {% include "head.html" %}
    <link href="/static/css/resume.css" rel="stylesheet">
    <link href="/static/fonts-svg/font.css">
    <style>
        .log-head{
            width: 100px;
            height: 100px;
        }
        a{
            text-decoration:none;
            display: block;
        }
        .classa{
            float: right;
            text-align: center;
            margin-top: 10px;
        }
        .aon{
            display: inline-block;
        }
    </style>
</head>
<body>
<main class="main-wrap">
    <header id="navbar1" class="navbar1">{% include "navbar.html" %}</header>
    <div style="height: 75px"></div>
    <div class="cent">
        <div class="cent_left">
            <section class="scroll-floor">
                <div class="resume_one">
                    <div>
                    <div class="resume_one_nei">
                        <div class="resume_img">
                            <img src="{{ Resumes.user_id.headimg }}" alt="因为您太丑该图像无法显示" class="log-head">
                        </div>
                        <ul class="jiben">
                            <li id="ulone">
                                <p>{{ Resumes.user_id.realname }}</p>
                                <p>{{ Resumes.user_id.sex }}</p>
                                <p><span>{{ Resumes.age }}</span>岁</p>
                                <button class="button" style="margin-left: 300px" onclick="myadd()" id="button_one">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="3" height="15" viewBox="0 0 3 15">
                                        <path fill="#757575"
                                              d="M3,3.5 L3,4 L0,4 L0,3.5 C0,2.671 0.672,2 1.5,2 C2.328,2 3,2.671 3,3.5 Z M3,14 L1.5,17 L0,14 L0,5 L3,5 L3,14 Z"
                                              transform="translate(0 -2)"/>
                                    </svg>
                                    <span>
                                    编辑
                                    </span>
                                </button>
                            </li>
                            <li id="ultowe">
                                <p>{{ Resumes.position }}</p>
                                <p>{{ Resumes.company }}</p>
                            </li>
                        </ul>
                        <div class="both"style="border-bottom: 1px solid #ECEFF1;margin-top: 120px;width: 730px;"></div>
                    </div>
                    <ul class="education" id="hangli">
                        <li>
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18">
                                  <path fill="#5A646E"
                                    d="M11,0 L0,6 L11,12 L20,7.09 L20,14 L22,14 L22,6 L11,0 Z M4,10.18 L4,14.18 L11,18 L18,14.18 L18,10.18 L11,14 L4,10.18 Z"
                                    opacity=".99"/>
                                </svg>
                            </span>
                            <span>{{ Resumes.years_of_service }}</span>年
                        </li>
                        <li>
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18">
                              <path fill="#5A646E"
                                    d="M11,0 L0,6 L11,12 L20,7.09 L20,14 L22,14 L22,6 L11,0 Z M4,10.18 L4,14.18 L11,18 L18,14.18 L18,10.18 L11,14 L4,10.18 Z"
                                    opacity=".99"/>
                            </svg>
                        </span>
                            <span>{{ Resumes.education }}</span>
                        </li>
                        <li>
                                 <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22">
                                     <path fill="#5A646E"
                                           d="M11,0 C17.0719657,0 22,4.92792433 22,11 C22,17.0719657 17.0719657,22 11,22 C4.92803431,22 0,17.0719657 0,11 C0,4.92792433 4.92792431,0 11,0 Z M13.4142136,9 L15.7071068,6.70710678 C16.0976311,6.31658249 16.0976311,5.68341751 15.7071068,5.29289322 C15.3165825,4.90236893 14.6834175,4.90236893 14.2928932,5.29289322 L11,8.58578644 L7.70710678,5.29289322 C7.31658249,4.90236893 6.68341751,4.90236893 6.29289322,5.29289322 C5.90236893,5.68341751 5.90236893,6.31658249 6.29289322,6.70710678 L8.58578644,9 L7,9 C6.44771525,9 6,9.44771525 6,10 C6,10.5522847 6.44771525,11 7,11 L10,11 L10,12 L8,12 C7.44771525,12 7,12.4477153 7,13 C7,13.5522847 7.44771525,14 8,14 L10,14 L10,16 C10,16.5522847 10.4477153,17 11,17 C11.5522847,17 12,16.5522847 12,16 L12,14 L14,14 C14.5522847,14 15,13.5522847 15,13 C15,12.4477153 14.5522847,12 14,12 L12,12 L12,11 L15,11 C15.5522847,11 16,10.5522847 16,10 C16,9.44771525 15.5522847,9 15,9 L13.4142136,9 Z"
                                           opacity=".99"/>
                                 </svg>
                            <span>{{ Resumes.expect_salary_low }}</span>k-<span>{{ Resumes.expect_salary_high }}</span>k
                        </li>
                        <li>
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="10" height="14" viewBox="0 0 10 14">
                                    <path fill="#5A646E"
                                          d="M6.003,15.004 L7.003,15.004 L7.003,19.004 C7.003,19.557 7.451,20.004 8.003,20.004 L12.003,20.004 C12.555,20.004 13.003,19.557 13.003,19.004 L13.003,15.004 L14.003,15.004 C14.555,15.004 15.003,14.557 15.003,14.004 L15.003,12.004 C15.003,9.248 12.76,7.004 10.003,7.004 C7.246,7.004 5.003,9.248 5.003,12.004 L5.003,14.004 C5.003,14.557 5.451,15.004 6.003,15.004 Z"
                                          opacity=".99" transform="translate(-5 -7)"/>
                                </svg>
                            </span>
                            <span>{{ Resumes.work_status }}</span>
                        </li>
                    </ul>
                </div>
                </div>
                <div class="resume_one_1" id="resumeone" style="display: none;">
                    <p>
                         <span>
                               <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                                      <path fill="#5A646E"
                                            d="M47,28 C44.51825,28 42.5,25.98175 42.5,23.5 C42.5,21.01825 44.51825,19 47,19 C49.48175,19 51.5,21.01825 51.5,23.5 C51.5,25.98175 49.48175,28 47,28 Z M47,29.125 C52.29875,29.125 56,31.900375 56,35.875 L56,37 L38,37 L38,35.875 C38,31.900375 41.70125,29.125 47,29.125 Z"
                                            transform="translate(-38 -19)"/>
                               </svg>
                         </span>
                        个人信息
                    </p>
                    <form id="myfrom">
                            <table>
                                <tr class="row_class">
                                    <td align="center" width ="30%">年龄</td>
                                   <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">公司职务</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">任职公司</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">工作年限</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr>
                                    <td align="center" width ="30%">最高学历</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">薪资最低</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                 <tr class="row_class">
                                    <td align="center" width ="30%">薪资最高</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">求职状态</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                            </table>
                        </form>
                        <div style="margin-left: 65px;height: 50px">
                            <input type="button" class="button_nove" value="完成" onclick="mycun()">
                            <input type="button" class="button" value="取消" onclick="xiao()">
                        </div>
                </div>
                <script>
                          var ulone=document.getElementById("ulone").getElementsByTagName("p");
                          var ultowe=document.getElementById("ultowe").getElementsByTagName("p");
                          var hangli =document.getElementById("hangli").getElementsByTagName("li");
                          var myfrom =document.getElementById("myfrom").getElementsByTagName("tr");
                          var resumeone=document.getElementById("resumeone");
                          console.log(ultowe[0])
                          console.log(ultowe[1])
                     function myadd() {
                         if(resumeone.style.display =="none"){
                             resumeone.style.display ="block";
                             document.getElementById("button_one").getElementsByTagName("span")[0].innerHTML="取消"
                         }else {
                             resumeone.style.display ="none";
                             document.getElementById("button_one").getElementsByTagName("span")[0].innerHTML="编辑"
                         }
                     }
                               myfrom[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=ulone[2].getElementsByTagName("span")[0].innerHTML;
                               myfrom[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=ultowe[0].innerHTML;
                               myfrom[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=ultowe[1].innerHTML;
                               myfrom[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=hangli[0].getElementsByTagName("span")[1].innerHTML;
                               myfrom[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=hangli[1].getElementsByTagName("span")[1].innerHTML;
                               myfrom[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=hangli[2].getElementsByTagName("span")[0].innerHTML;
                               myfrom[6].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=hangli[2].getElementsByTagName("span")[1].innerHTML;
                               myfrom[7].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=hangli[3].getElementsByTagName("span")[1].innerHTML;
                     function mycun(){
                               var myage=ulone[2].innerHTML=myfrom[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var myjob=ultowe[0].innerHTML=myfrom[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var mycompay=ultowe[1].innerHTML=myfrom[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var myjobage=hangli[0].getElementsByTagName("span")[1].innerHTML=myfrom[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var mymaxeduc=hangli[1].getElementsByTagName("span")[1].innerHTML=myfrom[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var mypay=hangli[2].getElementsByTagName("span")[0].innerHTML=myfrom[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var mypay1=hangli[2].getElementsByTagName("span")[1].innerHTML=myfrom[6].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var mymp=hangli[3].getElementsByTagName("span")[1].innerHTML=myfrom[7].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                               var myform ={
                                    "years_of_service": myjobage,
                                    "expect_salary_low": mypay,
                                    "expect_salary_high":mypay1,
                                    "education":mymaxeduc,
                                    "age":myage,
                                    "work_status":mymp,
                                    "company": mycompay,
                                    "position": myjob
                               };
                               var resume_info_dict =JSON.stringify(myform);
                               $.post("/resume/resume/1/update",{"resume_info_dict":resume_info_dict},function (data) {
                                    var data =JSON.parse(data);
                                    if (data.err==0){
                                        alert("请求成功！")
                                    }

                               });
                               resumeone.style.display ="none";
                             document.getElementById("button_one").getElementsByTagName("span")[0].innerHTML="编辑";
                     }
                        function xiao() {
                            resumeone.style.display ="none";
                             document.getElementById("button_one").getElementsByTagName("span")[0].innerHTML="编辑";
                        }
                </script>
            </section>
            <section class="scroll-floor">
                <div class="resume_tow">
                    <p>
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="13" viewBox="0 0 20 13">
                                <path fill="#5A646E"
                                      d="M5,4 C5.552,4 6,4.448 6,5 L6,12 C6,12.552 5.552,13 5,13 L1,13 C0.448,13 0,12.552 0,12 L0,5 C0,4.448 0.448,4 1,4 L5,4 Z M12,0 C12.552,0 13,0.448 13,1 L13,12 C13,12.552 12.552,13 12,13 L8,13 C7.448,13 7,12.552 7,12 L7,1 C7,0.448 7.448,0 8,0 L12,0 Z M19,5 C19.552,5 20,5.448 20,6 L20,12 C20,12.552 19.552,13 19,13 L15,13 C14.448,13 14,12.552 14,12 L14,6 C14,5.448 14.448,5 15,5 L19,5 Z"/>
                            </svg>
                        </span>
                        <span>
                            我的优势
                        </span>
                        <button class="button" id="goode" onclick="goode()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="3" height="15" viewBox="0 0 3 15">
                                <path fill="#757575"
                                      d="M3,3.5 L3,4 L0,4 L0,3.5 C0,2.671 0.672,2 1.5,2 C2.328,2 3,2.671 3,3.5 Z M3,14 L1.5,17 L0,14 L0,5 L3,5 L3,14 Z"
                                      transform="translate(0 -2)"/>
                            </svg>
                            编辑
                        </button>
                    </p>
                    <div class="bianxian"></div>
                    <div>
                        <P id="youshi">
                            {{ Resumes.my_advantage | safe }}
                        </P>
                    </div>
                </div>
                <div class="resume_tow_1" id="resume_tow_1" style="display: none">
                    <div class="table_w">
                    <span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="13" viewBox="0 0 20 13">
                           <path fill="#5A646E"
                                 d="M5,4 C5.552,4 6,4.448 6,5 L6,12 C6,12.552 5.552,13 5,13 L1,13 C0.448,13 0,12.552 0,12 L0,5 C0,4.448 0.448,4 1,4 L5,4 Z M12,0 C12.552,0 13,0.448 13,1 L13,12 C13,12.552 12.552,13 12,13 L8,13 C7.448,13 7,12.552 7,12 L7,1 C7,0.448 7.448,0 8,0 L12,0 Z M19,5 C19.552,5 20,5.448 20,6 L20,12 C20,12.552 19.552,13 19,13 L15,13 C14.448,13 14,12.552 14,12 L14,6 C14,5.448 14.448,5 15,5 L19,5 Z"/>
                        </svg>
                    </span>
                        <span>
                       我的优势
                     </span>
                    </div>
                    <div class="text-border">
                        <span>优势描述：</span>
                        <textarea class="good" id="advantage" cols="80 " rows="10 " placeholder="老夫要上天">

                       </textarea>
                    </div>
                    <div class="bottom-jian">
                        <button class="button_nove" onclick="good()">完成</button>
                        <button class="button_nove" id="goodq">取消</button>
                    </div>
                </div>
                <script>
                    var skty = document.getElementById("resume_tow_1");
                    var skty1 = document.getElementById("goode");
                    function goode() {
                        if (skty.style.display == "none") {
                            skty.style.display = "block";
                            skty1.innerHTML = "取消"
                        } else {
                            skty.style.display = "none";
                            skty1.innerHTML = "编辑"
                        }
                    }
                    document.getElementById("advantage").value = document.getElementById("youshi").innerText;
                    function good() {
                        skty.style.display = "none";
                        skty1.innerHTML = "编辑";
                        var my_advantage=document.getElementById("youshi").innerHTML = document.getElementById("advantage").value;
                         var youshi ={
                  "my_advantage":my_advantage
              };
              var resume_info_dict =JSON.stringify(youshi);
                        $.post("/resume/resume/1/update",{"resume_info_dict":resume_info_dict},function (data) {
                            var data =JSON.parse(data);
                            if(data.err ==0){
                                alert("请求成功")
                            }
                        })
                    }
                    document.getElementById("goodq").onclick = function () {
                        document.getElementById("advantage").value = document.getElementById("youshi").innerHTML;
                        skty.style.display = "none";
                        skty1.innerHTML = "编辑"
                    };
                </script>
            </section>
            <section class="scroll-floor">
                <div class="common-show">
                    <div class="table_w">
                        <span>求职意向</span>
                        <input type="button" value="添加" class="button" onclick="careeroadd()"/>
                    </div>
                            <div id="careeroshow">
                    {% if CareerObjectives %}
                        {% for careerobjective in CareerObjectives %}
                                <div class="text-border" id="caree_{{ careerobjective.id }}">
                                    <div class="schoolname">
                                        期望职位：<span>{{ careerobjective.position }}</span>
                                    </div>
                                    <div>
                                        期望薪资：<span>{{ careerobjective.expect_salary_low }}</span>-<span>{{ careerobjective.expect_salary_high }}</span>
                                    </div>
                                    <div>
                                        期望城市：<span>{{ careerobjective.city }}</span>
                                    </div>
                                    <div>
                                        期望行业：<span>{{ careerobjective.industry }}</span>
                                    </div>
                                    <div class="input-c">
                                        <input class="button" type="button" value="修改" onclick="careeroxiu(this)">
                                        <input class='button' type='button' style='margin-left: 65px' value='删除'
                                               onclick='careerorom(this)'>
                                    </div>
                                </div>
                        {% endfor %}
                    {% endif %}
                            </div>
                </div>
                <div class="yixiang_editor" id="careerobiao" style="display: none">
                       <div class="table_w">
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="13" viewBox="0 0 20 13">
                                 <path fill="#5A646E"
                                   d="M5,4 C5.552,4 6,4.448 6,5 L6,12 C6,12.552 5.552,13 5,13 L1,13 C0.448,13 0,12.552 0,12 L0,5 C0,4.448 0.448,4 1,4 L5,4 Z M12,0 C12.552,0 13,0.448 13,1 L13,12 C13,12.552 12.552,13 12,13 L8,13 C7.448,13 7,12.552 7,12 L7,1 C7,0.448 7.448,0 8,0 L12,0 Z M19,5 C19.552,5 20,5.448 20,6 L20,12 C20,12.552 19.552,13 19,13 L15,13 C14.448,13 14,12.552 14,12 L14,6 C14,5.448 14.448,5 15,5 L19,5 Z"/>
                                </svg>
                            </span>
                            <span>求职意向</span>
                        </div>
                         <form id="careerofrom">
                            <table>
                                <tr class="row_class">
                                    <td align="center" width ="30%">期望职位</td>
                                    <td><input type="text"  class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">期望薪资-最低</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">期望薪资-最高</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">期望城市</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">期望行业</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                            </table>
                        </form>
                        <div style="margin-left: 65px;height: 50px">
                            <input type="button" class="button_nove" value="完成" onclick="careerocun()">
                            <input type="button" class="button" value="取消" onclick="carquxiao()">
                        </div>
                </div>
            </section>
            <section class="scroll-floor">
                <div class="job-resume">
                    <div class="table_w">
                      <span>
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19">
                                    <path fill="#5A646E"
                                          d="M12,4 L8,4 L8,2 L12,2 L12,4 Z M18,4 L14,4 L14,2 L12,0 L8,0 L6,2 L6,4 L2,4 C0.89,4 0,4.89 0,6 L0,17 C0,18.1 0.9,19 2,19 L18,19 C19.1,19 20,18.1 20,17 L20,6 C20,4.89 19.1,4 18,4 Z"
                                          opacity=".99"/>
                          </svg>
                      </span>
                        <span>
                          工作经历
                      </span>
                        <a  class="button classa" onclick="workedadd()" href="#workedbiao">添加</a>
                    </div>
                    <div id="workedshow">
                        {% if WorkExperiences %}
                            {% for workexperience in WorkExperiences %}
                                <div class="text-border" id="worke_{{ workexperience.id }}">
                                    <div class="schoolname">
                                        公司名称:<span>{{ workexperience.company }}</span>
                                    </div>
                                    <div>
                                        公司职位:<span>{{ workexperience.position }}</span>
                                    </div>
                                    <div>
                                        在职时间:<span>{{ workexperience.start_time }}</span>
                                    </div>
                                    <div>
                                        离职时间:<span>{{ workexperience.end_time }}</span>
                                    </div>
                                    <div>
                                        工作内容:<span>{{ workexperience.content | safe }}</span>
                                    </div>
                                    <div class="input-c">
                                        <input class="button" type="button" value="修改" onclick="workedxiu(this)">
                                        <input class='button' type='button' style='margin-left: 65px' value='删除'
                                               onclick='deleteworked(this)'>
                                    </div>
                                </div>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
                <div class="job-resume-1" id="workedbiao" style="display: none">
                    <div class="table_w">
                         <span>
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19">
                                    <path fill="#5A646E"
                                          d="M12,4 L8,4 L8,2 L12,2 L12,4 Z M18,4 L14,4 L14,2 L12,0 L8,0 L6,2 L6,4 L2,4 C0.89,4 0,4.89 0,6 L0,17 C0,18.1 0.9,19 2,19 L18,19 C19.1,19 20,18.1 20,17 L20,6 C20,4.89 19.1,4 18,4 Z"
                                          opacity=".99"/>
                          </svg>
                      </span>
                        <span>
                          工作经历
                      </span>
                    </div>
                    <form id="workedform">
                            <table>
                                <tr class="row_class">
                                    <td align="center" width ="30%">公司名称</td>
                                    <td><input type="text"  class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">公司职位</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">在职时间</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">离职时间</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">工作描述</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                            </table>
                        </form>
                        <div style="margin-left: 65px;height: 50px">
                            <input type="button" class="button_nove" value="完成" onclick="workedcun()">
                            <input type="button" class="button" value="取消" onclick="workedqi()">
                        </div>
                </div>
            </section>
            <section class="scroll-floor">
                <div class="job-items">
                    <div class="table_w">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                                  <path fill="#5A646E" fill-rule="evenodd"
                                        d="M42,21.8333333 L44.3529412,21.8333333 L44.3529412,18 L38,18 L38,21.8333333 L38,35 L41.1764706,38 L44.3529412,35 L44.3529412,21.8333333 L42,21.8333333 L42,22.5486817 L38,22.5486817 L38,21.5385807 L42,21.5385807 L42,21.8333333 Z M49.6470588,21.5385807 L49.6470588,18 L56,18 L56,38 L49.6470588,38 L49.6470588,34.6698938 L53.1841454,34.6698938 L53.1841454,33.6597928 L49.6470588,33.6597928 L49.6470588,30.6294898 L53.1841454,30.6294898 L53.1841454,29.6193888 L49.6470588,29.6193888 L49.6470588,26.5890858 L53.1841454,26.5890858 L53.1841454,25.5789847 L49.6470588,25.5789847 L49.6470588,22.5486817 L53.1841454,22.5486817 L53.1841454,21.5385807 L49.6470588,21.5385807 Z"
                                        transform="translate(-38 -18)"/>
                            </svg>
                        </span>
                        <span>
                            项目经验
                        </span>
                        <a  value="添加" class="button classa" onclick="projectadd()" href="#projectbiao"/>添加</a>
                    </div>

                            <div id="projectshow">
                                 {% if ProjectExperiences %}
                                 {% for projectexperience in ProjectExperiences %}
                                <div class="text-border" id="porje_{{ projectexperience.id }}">
                                    <div class="schoolname">
                                        项目名称:<span>{{ projectexperience.project_name }}</span>
                                    </div>
                                    <div>
                                        项目角色:<span>{{ projectexperience.role }}</span>
                                    </div>
                                    <div>
                                        项目URL:<a class="aon" href="{{ projectexperience.url }}">{{ projectexperience.url }}</a>
                                    </div>
                                    <div>
                                        项目时间:<span>{{ projectexperience.start_time }}</span>-<span>{{ projectexperience.end_time }}</span>
                                    </div>
                                    <div>
                                        项目描述:<span>{{ projectexperience.description | safe }}</span>
                                    </div>
                                    <div class="input-c">
                                        <input class='button' type='button' value='修改' onclick='projectxiu(this)'/>
                                        <input class='button' type='button' style='margin-left: 65px' value='删除'
                                               onclick='deletepro(this)'>
                                    </div>
                                </div>
                        {% endfor %}
                    {% endif %}
                            </div>
                </div>
                <div class="job-items-one">
                     <div class="biaodan" id="projectbiao" style="display: none">
                         <div class="table_w">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18">
                                   <path fill="#5A646E"
                                         d="M11,0 L0,6 L11,12 L20,7.09 L20,14 L22,14 L22,6 L11,0 Z M4,10.18 L4,14.18 L11,18 L18,14.18 L18,10.18 L11,14 L4,10.18 Z"
                                         opacity=".99"/>
                            </svg>
                        </span>
                        <span>
                           项目经验
                        </span>
                    </div>
                        <form id="projectform">
                            <table>
                                <tr class="row_class">
                                    <td align="center" width ="30%">项目名称</td>
                                    <td><input type="text"  class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">项目角色</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">项目URL</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">起始时间</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr>
                                    <td align="center" width ="30%">结束时间</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">项目描述</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                            </table>
                        </form>
                        <div style="margin-left: 65px;height: 50px">
                            <input type="button" class="button_nove" value="完成" onclick="projectcun()">
                            <input type="button" class="button" value="取消" onclick="proqi()">
                        </div>
                    </div>
                </div>
            </section>
            <section class="scroll-floor">
                <div class="educations">
                    <div class="table_w">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18">
                            <path fill="#5A646E"
                                  d="M11,0 L0,6 L11,12 L20,7.09 L20,14 L22,14 L22,6 L11,0 Z M4,10.18 L4,14.18 L11,18 L18,14.18 L18,10.18 L11,14 L4,10.18 Z"
                                  opacity=".99"/>
                        </svg>
                        <span>
                         学历信息
                         </span>
                        <a class="button_nove classa" value="添加" onclick="trdadd()" href="#biaodan">添加</a>
                    </div>
                            <div id="zhanshi">
                    {% if EducationExperiences %}
                        {% for educationexperience in EducationExperiences %}
                                <div class="table_class" id="educa_{{ educationexperience.id }}">
                                    <div class="schoolname">学校名称:<span>{{ educationexperience.school }}</span></div>
                                    <div>就读时间:<span>{{ educationexperience.start_time }}</span>-<span>{{ educationexperience.end_time }}</span></div>
                                    <div>所学专业:<span>{{ educationexperience.discipline }}</span></div>
                                    <div>最高学历:<span>{{ educationexperience.education }}</span></div>
                                    <div>在校经历:<span>{{ educationexperience.experience_at_school | safe }}</span></div>
                                    <div>
                                        <input class='button' type='button' value='修改' onclick='updateRow(this)'/>
                                        <input class='button' type='button' style='margin-left: 65px' value='删除'
                                               onclick='deleteRow(this)'>
                                    </div>
                                </div>
                        {% endfor %}
                    {% endif %}
                            </div>
                </div>
                <div class="educations-one ">
                    <div class="biaodan" id="biaodan" style="display: none">
                         <div class="table_w">
                        <span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18">
                                   <path fill="#5A646E"
                                         d="M11,0 L0,6 L11,12 L20,7.09 L20,14 L22,14 L22,6 L11,0 Z M4,10.18 L4,14.18 L11,18 L18,14.18 L18,10.18 L11,14 L4,10.18 Z"
                                         opacity=".99"/>
                            </svg>
                        </span>
                        <span>
                            教育经历
                        </span>
                    </div>
                        <form id="formid">
                            <table>
                                <tr class="row_class">
                                    <td align="center" width ="30%">学校名称</td>
                                    <td><input type="text"  class="input-lang" name="schoolname"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">入学时间</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">毕业时间</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">所学专业</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">最高学历</td>
                                    <td><input type="text" class="input-lang" ></td>
                                </tr>
                                <tr class="row_class">
                                    <td align="center" width ="30%">在校经历</td>
                                    <td><input type="text" class="input-lang"></td>
                                </tr>
                            </table>
                        </form>
                        <div style="margin-left: 65px;height: 50px">
                            <input type="button" class="button_nove" value="完成" onclick="baocun()">
                            <input type="button" class="button" value="取消" onclick="quxiao()">
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <div class="cont_right">
            <div>
                <p style="font-size: 18px;color: #5A646E;margin-left: 36px;margin-top: 20px">我的简历</p>
                <p style="font-size: 14px;color: #8C96A5;margin-top: 5px;margin-left: 36px">上次更新</p>
                <p style="font-size: 18px;color: #8C96A5;margin-top: 5px;margin-left: 36px">2017-10-23 10:07</p>
            </div>
            <ul class=" floor-nav cont_right_one ">
                <li class="scroll-nav active">
            <span>
               <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
                 <path fill="#5A646E"
                       d="M47,28 C44.51825,28 42.5,25.98175 42.5,23.5 C42.5,21.01825 44.51825,19 47,19 C49.48175,19 51.5,21.01825 51.5,23.5 C51.5,25.98175 49.48175,28 47,28 Z M47,29.125 C52.29875,29.125 56,31.900375 56,35.875 L56,37 L38,37 L38,35.875 C38,31.900375 41.70125,29.125 47,29.125 Z"
                       transform="translate(-38 -19)"/>
               </svg>
            </span>个人信息
                </li>
                <li class="scroll-nav">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="13" viewBox="0 0 20 13">
                 <path fill="#5A646E"
                       d="M5,4 C5.552,4 6,4.448 6,5 L6,12 C6,12.552 5.552,13 5,13 L1,13 C0.448,13 0,12.552 0,12 L0,5 C0,4.448 0.448,4 1,4 L5,4 Z M12,0 C12.552,0 13,0.448 13,1 L13,12 C13,12.552 12.552,13 12,13 L8,13 C7.448,13 7,12.552 7,12 L7,1 C7,0.448 7.448,0 8,0 L12,0 Z M19,5 C19.552,5 20,5.448 20,6 L20,12 C20,12.552 19.552,13 19,13 L15,13 C14.448,13 14,12.552 14,12 L14,6 C14,5.448 14.448,5 15,5 L19,5 Z"/>
              </svg>
            </span>我的优势
                </li>
                <li class="scroll-nav">
            <span>
              <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22">
                 <path fill="#5A646E"
                       d="M11,0 C17.0719657,0 22,4.92792433 22,11 C22,17.0719657 17.0719657,22 11,22 C4.92803431,22 0,17.0719657 0,11 C0,4.92792433 4.92792431,0 11,0 Z M13.4142136,9 L15.7071068,6.70710678 C16.0976311,6.31658249 16.0976311,5.68341751 15.7071068,5.29289322 C15.3165825,4.90236893 14.6834175,4.90236893 14.2928932,5.29289322 L11,8.58578644 L7.70710678,5.29289322 C7.31658249,4.90236893 6.68341751,4.90236893 6.29289322,5.29289322 C5.90236893,5.68341751 5.90236893,6.31658249 6.29289322,6.70710678 L8.58578644,9 L7,9 C6.44771525,9 6,9.44771525 6,10 C6,10.5522847 6.44771525,11 7,11 L10,11 L10,12 L8,12 C7.44771525,12 7,12.4477153 7,13 C7,13.5522847 7.44771525,14 8,14 L10,14 L10,16 C10,16.5522847 10.4477153,17 11,17 C11.5522847,17 12,16.5522847 12,16 L12,14 L14,14 C14.5522847,14 15,13.5522847 15,13 C15,12.4477153 14.5522847,12 14,12 L12,12 L12,11 L15,11 C15.5522847,11 16,10.5522847 16,10 C16,9.44771525 15.5522847,9 15,9 L13.4142136,9 Z"
                       opacity=".99"/>
              </svg>
            </span>求职意向
                </li>
                <li class="scroll-nav">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="19" viewBox="0 0 20 19">
                   <path fill="#5A646E"
                         d="M12,4 L8,4 L8,2 L12,2 L12,4 Z M18,4 L14,4 L14,2 L12,0 L8,0 L6,2 L6,4 L2,4 C0.89,4 0,4.89 0,6 L0,17 C0,18.1 0.9,19 2,19 L18,19 C19.1,19 20,18.1 20,17 L20,6 C20,4.89 19.1,4 18,4 Z"
                         opacity=".99"/>
                </svg>
            </span>工作经历
                </li>
                <li class="scroll-nav">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">
                   <path fill="#5A646E" fill-rule="evenodd"
                         d="M42,21.8333333 L44.3529412,21.8333333 L44.3529412,18 L38,18 L38,21.8333333 L38,35 L41.1764706,38 L44.3529412,35 L44.3529412,21.8333333 L42,21.8333333 L42,22.5486817 L38,22.5486817 L38,21.5385807 L42,21.5385807 L42,21.8333333 Z M49.6470588,21.5385807 L49.6470588,18 L56,18 L56,38 L49.6470588,38 L49.6470588,34.6698938 L53.1841454,34.6698938 L53.1841454,33.6597928 L49.6470588,33.6597928 L49.6470588,30.6294898 L53.1841454,30.6294898 L53.1841454,29.6193888 L49.6470588,29.6193888 L49.6470588,26.5890858 L53.1841454,26.5890858 L53.1841454,25.5789847 L49.6470588,25.5789847 L49.6470588,22.5486817 L53.1841454,22.5486817 L53.1841454,21.5385807 L49.6470588,21.5385807 Z"
                         transform="translate(-38 -18)"/>
                </svg>
            </span>项目经验
                </li>
                <li class="scroll-nav">
            <span>
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="18" viewBox="0 0 22 18">
                   <path fill="#5A646E"
                         d="M11,0 L0,6 L11,12 L20,7.09 L20,14 L22,14 L22,6 L11,0 Z M4,10.18 L4,14.18 L11,18 L18,14.18 L18,10.18 L11,14 L4,10.18 Z"
                         opacity=".99"/>
                </svg>
            </span>项目经验
                </li>
            </ul>
        </div>
    </div>

</main>
{% include "search_div.html" %}
{% include "feedback.html" %}
</body>
{% include "commonJS.html" %}
<script src="/static/js/jquery.scroll.floor.js"></script>
<script src="/static/js/json2.js"></script>
<script type="text/javascript">
    scrollFloor({
        floorClass: '.scroll-floor',       //楼层盒子class;默认为'.scroll-floor'
        navClass: '.scroll-nav',           //导航盒子class;默认为'.scroll-nav'
        activeClass: 'active',             //导航高亮class;默认为'active'
        delayTime: 300,                      //点击导航，滚动条滑动到该位置的时间间隔;默认为200
        activeTop: 100,                      //楼层到窗口的某个位置时，导航高亮（设置该位置）;默认为100
        scrollTop: 300                         //点击导航，楼层滑动到窗口的某位置;默认为100
    });
</script>
<script>

{##}
{#    document.getElementById("xyz_tow").onclick = function () {#}
{#        var chu = document.getElementById("woca");#}
{#        var skt1 = document.getElementById("xyz_tow");#}
{#        document.getElementById("xyz_3").onclick = function () {#}
{#            chu.style.display = "none"#}
{#            skt1.innerHTML = "添加"#}
{#        };#}
{#        if (chu.style.display == "none") {#}
{#            chu.style.display = "block";#}
{#            skt1.innerHTML = "取消"#}
{#        } else {#}
{#            chu.style.display = "none"#}
{#            skt1.innerHTML = "添加"#}
{#        }#}
{#    }#}
    // var sdsd= document.getElementById("qiwang").getElementsByTagName('p')[0].innerHTML;
    // function  add() {
    //   document.getElementById("")
    // }
</script>
<script type="text/javascript">
    //判断当前是添加状态还是修改
    var flag = false;
    //当前用户id
    var uid =document.getElementById("uid").value;

    //求职意向开始
    var getcareero;
    var careerofrom =document.getElementById("careerofrom").getElementsByTagName("tr");
    var careeroshow =document.getElementById("careeroshow").getElementsByTagName("div");
    //求职意向添加
    function careeroadd() {
        flag = false;
                document.getElementById("careerobiao").style.display = "block";
                document.getElementById("workedbiao").style.display = "none";
                document.getElementById("projectbiao").style.display= "none";
                document.getElementById("biaodan").style.display = "none";
        careerochong();
    }
    //重置表
    function careerochong() {
        document.getElementById("careerofrom").reset();
    }

    function careerocun() {
         if (flag == false) {
                careeromax(flag);
            document.getElementById("careerobiao").style.display = "none";
        } else {
                careeromax(flag);
            document.getElementById("careerobiao").style.display = "none";
        }
    }

   function careeromax() {
       document.getElementById("careerobiao").style.display = "none";
       if(!flag){
          var career = careerofrom[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
          var career1 = careerofrom[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
          var career2 = careerofrom[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
          var career3 = careerofrom[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
          var career4 = careerofrom[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var  qiwang ={
                  "position":career,
                  "expect_salary_low":career1,
                   "expect_salary_high": career2,
                  "city":career3,
                  "industry":career4,
                   "user_id":uid
              };
              var resume_info_dict =JSON.stringify(qiwang);
              $.post("/resume/careerobjective/add",{"resume_info_dict":resume_info_dict},function (data){
                  var data =JSON.parse(data);
                     var qiwanid =data.id;
                  if(data.err ==0){
                      alert("添加成功");
                       var carees =  $("<div class='schoolname'></div>").html("期望职位:"+"<span>"+career+"</span>");
                        var carees1 = $("<div></div>").html("期望薪资:"+"<span>"+career1+"</span>-<span>"+career2+"</span>");
                        var carees2 = $("<div></div>").html("期望城市:"+"<span>"+career3+"</span>");
                        var carees3 = $("<div></div>").html("期望行业:"+"<span>"+career4+"</span>");
                        var carees4 = $("<div class='input-c'></div>").html("<input class='button' type='button' value ='修改' onclick='careeroxiu(this)'/><input type='button' class='button' style='margin-left: 65px' value='删除'onclick='deleteworked(this)'>");
                        var careess= $("<div class='text-border' id='caree_"+qiwanid+"'></div>").append(carees,carees1,carees2,carees3,carees4);
                    $('#careeroshow').append(careess);
                  }
              })

       }else {
           var careero2 =careeroshow[getcareero];
           var sdsid =String(careero2.id);
                    var sdsid1=sdsid.substring(6);
         var position=  careero2.getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML =careerofrom[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
         var expect_salary_low=  careero2.getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML =careerofrom[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
         var expect_salary_high=  careero2.getElementsByTagName("div")[1].getElementsByTagName("span")[1].innerHTML =careerofrom[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
           var city= careero2.getElementsByTagName("div")[2].getElementsByTagName("span")[0].innerHTML =careerofrom[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
         var industry=  careero2.getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML =careerofrom[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
           var   qiwang1 ={
                  "position":position,
                  "expect_salary_low":expect_salary_low,
                  "expect_salary_high":expect_salary_high,
                  "city":city,
                  "industry":industry,
                   "user_id":uid
              };
                var resume_info_dict =JSON.stringify(qiwang1);
                $.post("/resume/careerobjective/"+sdsid1+"/update",{"resume_info_dict":resume_info_dict},function (data) {
                    var data =JSON.parse(data);
                    if(data.err ==0){
                        alert("修改成功！")
                    }
                })
       }
   }

   function careeroxiu(input){
         flag = true;
        document.getElementById("careerobiao").style.display = "block";
        var i = input.parentNode.parentNode;
             console.log(i);
             var why= [].indexOf.call(i.parentNode.querySelectorAll(i.tagName), i);
              getcareero=why;
              careerofrom[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=careeroshow[getcareero].getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML;
           var sds=   careerofrom[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=careeroshow[getcareero].getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML;
              console.log(sds)
           careerofrom[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=careeroshow[getcareero].getElementsByTagName("div")[1].getElementsByTagName("span")[1].innerHTML;
              careerofrom[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=careeroshow[getcareero].getElementsByTagName("div")[2].getElementsByTagName("span")[0].innerHTML;
              careerofrom[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value=careeroshow[getcareero].getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML;
   }
       function careerorom(input) {
           var quchu =input.parentNode.parentNode;
           var quchuid= String(quchu.id);
           var quchuid1=quchuid.substring(6)
            $.post("/resume/careerobjective/"+quchuid1+"/delete",function (data) {
                var data =JSON.parse(data);
                    if(data.err ==0){
                        alert("删除成功！")
                    }
            });
          quchu.remove()
       }
       function carquxiao() {
            document.getElementById("careerobiao").style.display ="none"
       }




    //worked开始
    var getworked;
    var workedform =document.getElementById("workedform").getElementsByTagName("tr");
    var workedshow =document.getElementById("workedshow").getElementsByTagName("div");
    //工作经历添加
     function workedadd() {
         flag = false;
                document.getElementById("workedbiao").style.display = "block";
                document.getElementById("projectbiao").style.display= "none";
                document.getElementById("careerobiao").style.display = "none";
                document.getElementById("biaodan").style.display = "none";
         workedchong()
     }
    //重置内容
    function workedchong() {
        document.getElementById("workedform").reset();
    }
    //工作内容保存
   function workedcun() {
         if (flag == false) {
                workeddd(flag);
            document.getElementById("workedbiao").style.display = "none";
        } else {
                workeddd(flag);
            document.getElementById("workedbiao").style.display = "none";
        }
   }
   function workeddd() {
         document.getElementById("workedbiao").style.display = "none";
         if(!flag){
              var worke = workedform[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
              var worke1 = workedform[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
              var worke2 = workedform[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
              var worke3 = workedform[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
              var worke4 = workedform[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
              var  str ={
                  "company":worke,
                  "position":worke1,
                  "start_time":worke2,
                  "end_time":worke3,
                  "content":worke4,
                  "user_id":uid
              };
              var resume_info_dict =JSON.stringify(str);

              $.post("/resume/workexperience/add",{"resume_info_dict":resume_info_dict},function (data) {
                   var data =JSON.parse(data);
                   if (data.err ==0){
                       var job=data.id;
                       alert("添加成功！")
                        var worked =  $("<div class='schoolname'></div>").html("公司名称:"+"<span>"+worke+"</span>");
                        var worked1 = $("<div></div>").html("公司职位:"+"<span>"+worke1+"</span>");
                        var worked2 = $("<div></div>").html("在职时间:"+"<span>"+worke2+"</span>");
                        var worked3 = $("<div></div>").html("离职时间:"+"<span>"+worke3+"</span>");
                        var worked4 = $("<div></div>").html("工作内容:"+"<span>"+worke4+"</span>");
                        var worked5 = $("<div class='input-c'></div>").html("<input class='button' type='button' value ='修改' onclick='workedxiu(this)'/><input type='button' class='button' style='margin-left: 65px' value='删除'onclick='deleteworked(this)'>");
                        var workes= $("<div class='text-border' id='worke_"+job+"'></div>").append(worked,worked1,worked2,worked3,worked4,worked5);
                    $('#workedshow').append(workes);
                   }
              })

         }else {
                var worked2 = workedshow[getworked];
                   var weid =String(worked2.id);
                    var weid1=weid.substring(6);
                console.log(weid1);
             var company=worked2.getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML= workedform[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var position= worked2.getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML= workedform[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var start_time= worked2.getElementsByTagName("div")[2].getElementsByTagName("span")[0].innerHTML= workedform[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var end_time= worked2.getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML= workedform[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var content= worked2.getElementsByTagName("div")[4].getElementsByTagName("span")[0].innerHTML= workedform[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                var  str1 ={
                  "company":company,
                  "position":position,
                  "start_time":start_time,
                  "end_time":end_time,
                  "content":content,
                  "user_id":uid
              };
                var resume_info_dict =JSON.stringify(str1);
                $.post("/resume/workexperience/"+weid1+"/update",{"resume_info_dict":resume_info_dict},function (data) {
                    var data =JSON.parse(data);
                    if(data.err ==0){
                        alert("修改成功！")
                    }
                })
         }
   }
            function  workedxiu(input){
              flag =true;
              document.getElementById("workedbiao").style.display ="block";
             var i = input.parentNode.parentNode;
             console.log(i);
             var ta= [].indexOf.call(i.parentNode.querySelectorAll(i.tagName), i);
             getworked =ta;
                 workedform[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = workedshow[getworked].getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML;
                 workedform[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = workedshow[getworked].getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML;
                 workedform[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = workedshow[getworked].getElementsByTagName("div")[2].getElementsByTagName("span")[0].innerHTML;
                 workedform[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = workedshow[getworked].getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML;
                 workedform[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = workedshow[getworked].getElementsByTagName("div")[4].getElementsByTagName("span")[0].innerHTML;
         }
         //删除经历
         function deleteworked(input){
          var hah= input.parentNode.parentNode;
          var hahid= String(hah.id);
                    var hahid1=hahid.substring(6);
            $.post("/resume/workexperience/"+hahid1+"/delete",function (data) {
                var data =JSON.parse(data);
                    if(data.err ==0){
                        alert("删除成功！")
                    }
            });
           hah.remove();
         }
          function workedqi() {
        document.getElementById("workedbiao").style.display = "none";
        workedchong();
       }





    //项目描述开始
         var getproject;
         var projectform = document.getElementById("projectform").getElementsByTagName("tr");
               console.log(projectform)
          var projectshow = document.getElementById("projectshow").getElementsByTagName("div");
           //添加键事件
            function  projectadd(){
                flag = false;
                document.getElementById("projectbiao").style.display= "block";
                document.getElementById("workedbiao").style.display = "none";
                document.getElementById("careerobiao").style.display = "none";
                document.getElementById("biaodan").style.display = "none";
                projectrm()
            }
            //重置
            function projectrm() {
                 document.getElementById("projectform").reset();
            }
            //保存
            function projectcun() {
        if (flag == false) {
            addporject(flag);
            document.getElementById("projectbiao").style.display = "none";
        } else {
           addporject(flag);
            document.getElementById("projectbiao").style.display = "none";
        }
    }
      function addporject() {
           document.getElementById("projectbiao").style.display = "none";
           if(!flag){
               var pro = projectform[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var pro1 = projectform[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var pro2 = projectform[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var pro3 = projectform[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var pro4 = projectform[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               var pro5 = projectform[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
               //console.log(pro+pro1+pro2+pro3+pro4);
               var resume_info_dict={
                   "project_name":pro,
                   "role":pro1,
                   "url":pro2,
                   "start_time":pro3,
                   "end_time":pro4,
                   "description":pro5,
                   "user_id":uid
               };
               var json_project = JSON.stringify(resume_info_dict);
               $.post("/resume/projectexperience/add",{"resume_info_dict":json_project},function (data) {
                   var data =JSON.parse(data);
                   if(data.err==0){
                       alert("添加成功")
                       var b =data.id;
                       console.log(b);
                        var pros =  $("<div class='schoolname'></div>").html("项目名称:"+"<span>"+pro+"</span>");
                        var pros1 = $("<div></div>").html("项目角色:"+"<span>"+pro1+"</span>");
                        var pros2 = $("<div></div>").html("项目URL:"+"<a class='aon' href='"+pro2+"'>"+pro2+"</a>");
                        var pros3 = $("<div></div>").html("项目时间:"+"<span>"+pro3+"</span>"+"-"+"<span>"+pro4+"</span>");
                        var pros4 = $("<div></div>").html("项目描述:"+"<span>"+pro5+"</span>");
                        var pros6 = $("<div class='input-c'></div>").html("<input class='button' type='button' value ='修改' onclick='projectxiu(this)'/><input type='button' class='button' style='margin-left: 65px' value='删除'onclick='deleteRow(this)'>");
                        var porject= $("<div class='text-border' id='porje_"+b+"'>"+"</div>").append(pros, pros1, pros2, pros3,pros4,pros6);
                    $('#projectshow').append(porject);
                   }
               })
           }else {
                document.getElementById("biaodan").style.display = "none";
                var preee2 = projectshow[getproject];
                var project2 = String(preee2.id) ;
                var project3 =project2.substring(6);
                console.log(preee2);
             var  project_name =preee2.getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML=projectform[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
             var  role =  preee2.getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML=projectform[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
             var  url =  preee2.getElementsByTagName("div")[2].getElementsByTagName("a")[0].innerHTML=projectform[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
             var  start_time =  preee2.getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML=projectform[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
             var  end_time =  preee2.getElementsByTagName("div")[3].getElementsByTagName("span")[1].innerHTML=projectform[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
              var description = preee2.getElementsByTagName("div")[4].getElementsByTagName("span")[0].innerHTML=projectform[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
                 var resume_info_dict={
                     "project_name":project_name,
                     "role":role,
                     "url":url,
                     "start_time":start_time,
                     "end_time":end_time,
                     "description":description,
                     "user_id":uid
                 }
                 var json_project = JSON.stringify(resume_info_dict);
             $.post("/resume/projectexperience/"+project3+"/update",{"resume_info_dict":json_project},function (data) {
                 var data =JSON.parse(data);
                 if(data.err==0){
                     alert("请求成功！")
                 }
             })
           }
      }
         //修改项目经验
      function projectxiu(input) {
           flag =true;
           document.getElementById("projectbiao").style.display ="block";
           var i = input.parentNode.parentNode;
           console.log(i);
           var ni= [].indexOf.call(i.parentNode.querySelectorAll(i.tagName), i);
           console.log(ni)
           getproject = ni;

           projectform[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value =projectshow[getproject].getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML;
           projectform[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = projectshow[getproject].getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML;
           projectform[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value =projectshow[getproject] .getElementsByTagName("div")[2].getElementsByTagName("a")[0].innerHTML;
           projectform[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value =projectshow[getproject].getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML;
           projectform[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = projectshow[getproject].getElementsByTagName("div")[3].getElementsByTagName("span")[1].innerHTML;
           projectform[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value =projectshow[getproject].getElementsByTagName("div")[4].getElementsByTagName("span")[0].innerHTML;
      }
     //删除项目经验
    function deletepro(input) {
        var fu =input.parentNode.parentNode;
           var weid =String(fu.id);
           var weid1 =weid.substring(6);
          $.post("/resume/projectexperience/"+weid1+"/delete",function (data) {
              var data =JSON.parse(data);
              if (data.err ==0){
                  alert("删除成功")
              }
          })
         fu.remove();
    }
    function proqi() {
        document.getElementById("projectbiao").style.display = "none"
        projectrm()
    }





       //填写单的tr
    var index = document.getElementById("formid").getElementsByTagName("tr");
    //当前的table
    var s1 = document.getElementById("zhanshi").getElementsByTagName("div");
    //要修改的table下标
    var getselectrow;
    //个人教育背景
    function trdadd() {
        flag = false;
        document.getElementById("biaodan").style.display = "block";
         document.getElementById("careerobiao").style.display = "none";
                document.getElementById("workedbiao").style.display = "none";
                document.getElementById("projectbiao").style.display= "none";
        chongzhi()
    }

    //当重新打开时重置
    function chongzhi() {
        document.getElementById("formid").reset();
    }
    function baocun() {
        if (flag == false) {
            add(flag);
            document.getElementById("biaodan").style.display = "none";
        } else {
            add(flag);
            document.getElementById("biaodan").style.display = "none";
        }
    }

    function add() {
        document.getElementById("biaodan").style.display = "none";
        if (!flag) {
            var add1 = index[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var add2 = index[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var add3 = index[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var add4 = index[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var add5 = index[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var add6 = index[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            //获取表单内容input的value
             var resume_info_dict = {
                "school": add1,
                "discipline": add4,
                "education": add5,
                "start_time": add2,
                 "end_time":add3,
                "experience_at_school":add6,
                "user_id":uid
            };
{#            var data = new Object(resume_info_dict);#}
            var json_data = JSON.stringify(resume_info_dict);
            console.log(json_data);
            $.post("/resume/educationexperience/add", {"resume_info_dict":json_data}, function (data) {
                var data =JSON.parse(data);
                if(data.err == "0"){
                    alert("请求成功！");
                    var a=data.id;
                    var yaya =  $("<div class='schoolname'></div>").html("学校名称:"+"<span>"+add1+"</span>");
                    var yaya1 = $("<div></div>").html("就读时间:"+"<span>"+add2+"</span>"+"-"+"<span>"+add3+"</span>");
                    var yaya2 = $("<div></div>").html("专业名称:"+"<span>"+add4+"</span>");
                    var yaya3 = $("<div></div>").html("最高学历:"+"<span>"+add5+"</span>");
                    var yaya4 = $("<div></div>").html("在校经历:"+"<span>"+add6+"</span>");
                    var yaya5 = $("<div></div>").html("<input class='button' type='button' value ='修改' onclick='updateRow(this)'/><input type='button' class='button' style='margin-left: 65px' value='删除'onclick='deleteRow(this)'>");
                    var schoolpost= $("<div class='table_class' id='educa_"+a+"'>"+"</div>").append(yaya, yaya1, yaya2, yaya3, yaya4, yaya5);
                    $('#zhanshi').append(schoolpost);
                }
            });
        } else {
            var row2 = s1[getselectrow];
               var rowid= String(row2.id);
               var rowid1=rowid.substring(6);
            console.log(row2.id);
            //console.log(row2);
           var test= row2.getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML = index[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var test1=row2.getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML = index[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var test2=row2.getElementsByTagName("div")[1].getElementsByTagName("span")[1].innerHTML = index[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var test3=row2.getElementsByTagName("div")[2].getElementsByTagName("span")[0].innerHTML = index[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
           var test4= row2.getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML = index[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
            var test5=row2.getElementsByTagName("div")[4].getElementsByTagName("span")[0].innerHTML = index[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value;
              var resume_info_dict = {
                 "school": test,
                "discipline": test3,
                "education": test4,
                "start_time": test1,
                 "end_time":test2,
                "experience_at_school":test5,
                "user_id":uid

            };
               var json_data = JSON.stringify(resume_info_dict);
            $.post("/resume/educationexperience/"+rowid1+"/update",{"resume_info_dict":json_data},function (data) {
                var data =JSON.parse(data);
                if(data.err == "0"){
                    alert("请求成功")
                }
            })
        }
    }
    //删除
    function deleteRow(input) {
         var s = input.parentNode.parentNode;
        var sid=String(s.id);
          var sid1 =sid.substring(6);
        $.post("/resume/educationexperience/"+sid1+"/delete",function (data) {
            var data =JSON.parse(data);
            if(data.err ==0){
               alert("删除成功")
            }
        });
        s.remove();
    }

    //XIUGAI
    function updateRow(input) {
        flag = true;
        document.getElementById("biaodan").style.display = "block";
        var i = input.parentNode.parentNode;
        console.log(i);
        var wo = [].indexOf.call(i.parentNode.querySelectorAll(i.tagName), i);
        getselectrow = wo;
        console.log(wo);
        console.log(s1);
       //得到选中行的内容放到文本框
        index[0].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = s1[getselectrow].getElementsByTagName("div")[0].getElementsByTagName("span")[0].innerHTML;
        index[1].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = s1[getselectrow].getElementsByTagName("div")[1].getElementsByTagName("span")[0].innerHTML;
        index[2].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = s1[getselectrow].getElementsByTagName("div")[1].getElementsByTagName("span")[1].innerHTML;
        index[3].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = s1[getselectrow].getElementsByTagName("div")[2].getElementsByTagName("span")[0].innerHTML;
        index[4].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = s1[getselectrow].getElementsByTagName("div")[3].getElementsByTagName("span")[0].innerHTML;
        index[5].getElementsByTagName("td")[1].getElementsByTagName("input")[0].value = s1[getselectrow].getElementsByTagName("div")[4].getElementsByTagName("span")[0].innerHTML;
    }

    function quxiao() {
        document.getElementById("biaodan").style.display = "none";
        chongzhi();
    }
</script>
</html>
