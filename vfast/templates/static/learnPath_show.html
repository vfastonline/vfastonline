<!DOCTYPE html>
<html>
<head>
    <title></title>
    {% include "head.html" %}
    <link href="http://vjs.zencdn.net/5.8.8/video-js.css" rel="stylesheet">
    <!-- If you'd like to support IE8 -->
    <script src="http://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
    <style>
        #head_cont{
            box-shadow: none;
        }
        /*path_head Start*/
        .path_head_BG{
            background-color: #303948;
            position: relative;
            padding: 50px 0px 180px;
        }
        /*path_head End*/
        /*video_section Start*/
        .vjs-big-play-button{
            display: none!important;
        }
        .vjs-fullscreen-control{
            display: none!important;
        }
        .video_section{
            width: 1200px;
            margin: 0 auto;
            position: relative;
            overflow: hidden;
        }
        .video_section>img {
            position: absolute;
            top: 45%;
            left: 47.2%;
            border-radius: 30px;
        }
        .video_section>img:hover{
            cursor: pointer;
            opacity:0.9;
        }
        .video_section>.video_section_left{
            position: absolute;
            top:0px;
            width: 50%;
            height:600px;
            background:url("{{ path.pathwel.url }}") no-repeat;

        }
        .video_section>.video_section_right{
            position: absolute;
            top:0px;
            right:0px;
            width: 50%;
            height:600px;
            background-color: #FFFFFF;
            padding: 0px 40px;
        }
        .video_section_right>h1{
            font-size: 28px;
            color: #5A646E;
        }
        .video_section_right>pre{
            font-size: 16px;
            font-family: Tensentype-JiaLiXiYuanJ;
            color: #8C96A5;
            font-weight: 400;
            letter-spacing: 1px;
            height:200px;
            overflow:hidden;
            background-color: transparent;
            border: none;
            white-space: pre-wrap;
            white-space: -moz-pre-wrap;
            white-space: -pre-wrap;
            white-space: -o-pre-wrap;
            word-wrap: break-word;
        }
        .video_section_right>h2{
            font-size: 24px;
            color: #5A646E;
            text-align: center;
            text-indent: 1em;
            margin-bottom: 20px;
        }
        .video_section_right>h2>span{
            font-size: 32px;
        }
        .video_section_right>span{
            float: right;
            margin-right: 64px;
            font-family: Tensentype-JiaLiZhongYuanJ;
            font-size: 16px;
            color: #8C96A5;
        }
        .video_section_right>.startLearnPath{
            background: #2F3746;
            border-radius: 4px;
            font-size: 24px;
            color: #FFFFFF;
            width: 141px;
            height: 42px;
            line-height: 42px;
            text-align: center;
            margin: 100px auto 50px;
        }
        .video_section_right>.startLearnPath:hover{
            position: relative;
            top:-1px;
            box-shadow: 0 2px 1px 0 rgba(0,0,0,0.50);
            cursor: pointer;
            opacity: 0.9;
        }
        .video_section_right>.startLearnPath:active{
            position: relative;
            top:0px;
            box-shadow: none;
            cursor: pointer;
            opacity: 1;
        }
        .video_section_right>div:last-child{
            font-family: Tensentype-JiaLiXiYuanJ;
            font-size: 16px;
            color: #5A646E;
            line-height: 22px;
            text-align: right;
        }
        .video_section_right>div:last-child>img{
            padding-bottom: 5px;
        }
        .video_section_right>div:last-child>span:last-child{
            margin-left: 40px;
        }


        /*video_section End*/

        /*section_2 Start*/
        .section_2{
            width: 1200px;
            margin: -150px auto 0px;
            position: relative;
        }
        .section_2 p{
            margin: 0;
        }
        .section_2>div:after{content: "";display: block;clear:both;}
        .section_2>div{
            margin-top: 30px;
        }
        .section_2>div>div:first-child{
            float: left;
            width: 10%;
            height: 100%;
            position: relative;
        }
        .section_2>div>div:first-child>b{
            display: block;
            width: 4px;
            height: 100%;
            border-radius: 2px;
            background-color: #D4D9DD;
            margin: 0 auto;
            position: relative;
        }
        .section_2>div:first-child>div:first-child>b:before{
            content: "";
            display: block;
            width: 4px;
            height: 34px;
            background-color: #303948;
            margin: 0 auto;
            position: absolute;
            top: 0px;
            z-index: 1;
        }
        .section_2>div>div:first-child>b>s{
            display: block;
            width: 4px;
            height: 34px;
            border-radius: 2px;
            background-color: #D4D9DD;
            margin: 0 auto;
            position: absolute;
            bottom: -32px;
        }
        .section_2>div>div:first-child>i{
            display: block;
            width: 44px;
            height: 44px;
            background-color: #FFFFFF;
            border-radius: 22px;
            text-align: center;
            line-height: 44px;
            box-shadow: 0 2px 1px rgba(0,0,0,0.25);
            margin: 0 auto;
            position: absolute;
            top: 30px;
            left: 38px;
            z-index: 1;
        }
        .section_2>div>div:first-child>i>svg{
            margin-top: 10px;
        }
        .section_2>div:first-child>div:last-child{
            /*margin-top: 0px;*/
        }
        .section_2>div>div:last-child{
            float: left;
            width: 90%;
            /*margin-top: 30px;*/
            background-color: #FFFFFF;
            border-radius: 10px;
            box-shadow: 0px 2px 1px rgba(0,0,0,0.25);
            /*padding-bottom: 14px;*/
            overflow: hidden;
            height: 100%;

        }
        .section_2>div>div:last-child>div:first-child{
            padding-top: 20px;
        }
        .section_2>div>div:last-child>div:first-child:hover{
            transition: all 0s;
            background-color: #FAFAFA;
            cursor: pointer;
        }
        .section_2>div>div:last-child>div:first-child>h2{
            font-size: 20px;
            color: #384047;
            float: left;
            margin-left: 30px;
        }
        .section_2>div>div:last-child>div:first-child>h3{
            font-size: 18px;
            color: #7B8B8E;
            float: right;
            margin-right: 44px;
        }
        .section_2>div>div:last-child>div:first-child>b{
            width: 10px;
            height: 18px;
            display: block;
            clear: both;
            color: #D4C9DD;
            position: relative;
            top: 18px;
            left: 40px;
            transition: all 0.35s ease-in-out;
        }
        .section_2>div>div:last-child>div:first-child>p{
            width: 85%;
            margin: 0 auto;
            color: #9e9e9e;
            font-size: 14px;
            line-height: 20px;
        }
        .section_2>div>div:last-child>div:first-child>div{
            clear: both;
        }
        .section_2>div>div:last-child>div:first-child:after{content: "";display: block;clear: both;}
        .section_2>div>div:last-child>div:first-child>div:last-child{
            clear: both;
            float: right;
            color: #384047;
            font-size: 18px;
            margin-top: 10px;
            margin-bottom: 20px;
            margin-right: 44px;
        }
        .section_2>div>div:last-child>div:last-child>div{
            background-color: #F0F2F4;
            height: 56px;
            border-top: 1px solid #D4D9DD;
            color: #7B8B8E;
        }
        .section_2>div>div:last-child>div:last-child>div:hover{
            transition: 0s;
            background-color: #FFFFFF;
            cursor: pointer;
        }
        .section_2>div>div:last-child>div:last-child>div:active{
            background-color: #F0F2F4;
        }
        .section_2>div>div:last-child>div:last-child>div>i{
            display: block;
            float: left;
            height: 56px;
            line-height: 56px;
            width: 10%;
            text-align: center;
        }
        .section_2>div>div:last-child>div:last-child>div>i>svg{
            margin-top: 15px;
        }
        .section_2>div>div:last-child>div:last-child>div>p{
            float: left;
            height: 56px;
            line-height: 56px;
            width: 80%;
        }
        .section_2>div>div:last-child>div:last-child>div>p:last-child{
            float: right;
            height: 56px;
            line-height: 56px;
            width: 10%;
        }
        .section_2 .trophy{
            height: 200px!important;
            background-color: #607D8B!important;
            text-align: center;
        }
        .section_2 .trophy>img{
            width: 180px;
            height: 160px;
            margin-top: 20px;
        }
        .section_2_div{
            transition: height 0.35s ease-in-out;
        }
        .section_2_div>div:first-child{
            transition: height 0.35s ease-in-out;
        }
        .section_2_div_div{
            transition: height 0.35s ease-in-out;
        }
        /*section_2 End*/
        @keyframes video_left_animation {
            0%{
                left:0px;
            }
            100%{
                left:-600px;
            }
        }
        @keyframes video_right_animation {
            0%{
                right:0px;
            }
            100%{
                right:-600px;
            }
        }
        @keyframes video_left_animation_back {
            0%{
                left:-600px;
            }
            100%{
                left:0px;
            }
        }
        @keyframes video_right_animation_back {
            0%{
                right:-600px;
            }
            100%{
                right:0px;
            }
        }



    </style>
</head>
<body>
<main class="main-wrap">
    <header id="navbar1" class="navbar1">{% include "navbar.html" %}</header>
    <div class="path_head_BG">
        <section class="video_section">
            <video data-setup="{}" id="my-video" width="1200px" height="600px" class="video-js" controls preload="auto"
                   onplay="show_Play()" onpause="video_Pause()"  onended="video_Ended()" >
                <source src="{{ path.intrv.url }}" type="video/mp4">
                您的浏览器不支持 video 标签。
            </video>
            <div class="video_section_left" id="video_section_left"></div>
            <div class="video_section_right" id="video_section_right">
                <h1>{{ path.name }}</h1>
                {% autoescape on %}
                <pre>{{ path.desc | safe}}</pre>
                {% endautoescape %}
                <h2><span>{{ path.jobscount }} </span>&nbsp;个岗位招聘&nbsp;&nbsp;&nbsp;<span>{{ path.salary }}</span>&nbsp;入门起薪</h2>
                <span>{{ path.jstime }}</span>

                {% if request.session.login != True %}
                    <div class="startLearnPath" id="startLearnPath" onclick="login_show()" data-toggle="modal" data-target="#myModal">参加路线</div>
                {% else %}
                    <div class="startLearnPath" id="startLearnPath"
                     onclick="location.href ='/course/join_track?pid={{ path.id }}'"
                    >{% if path.id == path_id%}继续学习{% elif path_id == 0 %}参加路线{% else %}切换路线{% endif %}</div>
                {% endif %}
                <div>
                    <span>岗位空缺度：</span>
                    {% for xx in xingxing %}
                        {% if path.job_wanted > xx %}
                            <img src="/static/svg/xingxing_1.svg" alt="">
                         {% else %}
                            <img src="/static/svg/xingxing.svg" alt="">
                        {% endif %}
                    {% endfor %}
                    <span>平均入门级薪资：<span>￥{{ path.avrage_salary }}/月</span></span>
                </div>
            </div>
            <img src="/static/svg/pathPlay.svg" width="65px" height="65px" alt="" onclick="video_Play()" id="video_start" class="video_start"/>
        </section>
    </div>
    <div class="slideDIV" style="height:150px;"></div>
    <section class="section_2">
        {% for item in courses %}
            <div class="section_2_div">
            <div>
                <b>
                    <s></s>
                </b>
                <i>
                    {% if item.course.icon == 0 %}
                        <img src="/static/svg/videoCourse.svg" alt="">
                    {% else %}
                        <img src="/static/svg/project.svg" alt="">
                    {% endif %}
                </i>
            </div>
            <div class="section_2_div_div">
                <div onclick="class_onclick(this)" class="class_hidden" name="section_2_div_div_div" >
                    <h2>{{ item.course.name }}</h2>
                    <h3>{{ item.course.totaltime }}</h3>
                    <b>></b>
                    <p>{{ item.course.desc|safe }}</p>
                    <div>难易度：
                        {% for xx in xingxing %}
                            {% if item.course.difficult > xx %}
                                <img src="/static/svg/xingxing_1.svg" alt="">
                             {% else %}
                                <img src="/static/svg/xingxing.svg" alt="">
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
                <div>

                    {%  for v in item.video %}
                        {% if v.vtype == 0 %}
                            <div class="class_video" onclick="play_video('/video/{{ v.id }}')">
                                <i>
                                    <img src="/static/svg/video.svg" alt="">
                                </i>
                                <p>{{ v.name }}</p>
                                <p>{{ v.vtime }}</p>
                            </div>
                        {% else %}
                            <div class="class_video" onclick="play_video('/practice/{{ v.id }}')">
                                <i>
                                    <img src="/static/svg/quiz.svg" alt="">
                                </i>
                                <p>{{ v.name }}</p>
                                <p>{{ v.vtime }}</p>
                            </div>
                        {% endif %}

                    {% endfor %}

                </div>
            </div>
        </div>
        {% endfor %}


        <div class="section_2_div">
            <div style="height: 60%;">
                <b>
                    <s></s>
                </b>
                <i>
                    <svg width="24px" height="24px" viewBox="144 2881 24 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <path d="M148.363636,2892.10545 L148.363636,2896.46909 L156,2900.63636 L163.636364,2896.46909 L163.636364,2892.10545 L156,2896.27273 L148.363636,2892.10545 L148.363636,2892.10545 Z M156,2881 L144,2887.54545 L156,2894.09091 L165.818182,2888.73455 L165.818182,2896.27273 L168,2896.27273 L168,2887.54545 L156,2881 L156,2881 Z" id="Shape" stroke="none" fill="#D4D9DD" fill-rule="evenodd"></path>
                    </svg>
                </i>
            </div>
            <div class="trophy">
                <img src="/static/imgs/dajiangbei.png" />
            </div>
        </div>
    </section>

    <footer class="footer_curr" id="footer_curr">{% include "footer.html" %}</footer>
</main>
{% include "search_div.html" %}
{% include "feedback.html" %}
</body>
{% include "commonJS.html" %}
<script>
    window.document.onscroll = function(){
        if($(document).scrollTop() == 0){
            $("#head_cont").css("box-shadow","none");
        }else{
            $("#head_cont").css("box-shadow","0 2px 1px rgba(0,0,0,0.5)");
        }
    }
    function show_Play(){
        video_section_left.style.animation = "video_left_animation 0.35s";
        video_section_right.style.animation = "video_right_animation 0.35s";
        video_section_left.style.animationFillMode = "forwards";
        video_section_right.style.animationFillMode = "forwards";
        document.getElementById("video_start").style.display = "none";
    }
    function video_Play(){
        if(video_section_left.style.animation != 'video_left_animation 0.35s forwards'){
            video_section_left.style.animation = "video_left_animation 0.35s";
            video_section_right.style.animation = "video_right_animation 0.35s";
            video_section_left.style.animationFillMode = "forwards";
            video_section_right.style.animationFillMode = "forwards";
            setTimeout(function(){
                document.getElementsByTagName("video")[0].play();
            },100)
        }else{
            document.getElementsByTagName("video")[0].play();
        }
    }
    function video_Pause(){
        video_section_left.style.animation = "video_left_animation_back 0.35s";
        video_section_right.style.animation = "video_right_animation_back 0.35s";
        document.getElementById("video_start").style.display = "block";
    }
    function video_Ended(){
        document.getElementById("video_start").style.display = "block";
    }
    var up_down_animation = false;
    function class_onclick(t){
        if(!up_down_animation){
            up_down_animation = true;
            var parentHeight = document.defaultView.getComputedStyle(t.parentNode,null).height;
            var class_video_count = t.parentNode.getElementsByClassName("class_video").length;
            class_video_count = class_video_count * 57;
            parentHeight = parentHeight.substring(0,parentHeight.indexOf('px'));
            if(t.className == "class_hidden"){
                t.parentNode.style.height = parseInt(parentHeight) + parseInt(class_video_count) + 20 + "px";
                t.parentNode.parentNode.style.height = parseInt(parentHeight) + parseInt(class_video_count) + 20 + "px";
                t.className = "class_show";
                var bObject = t.getElementsByTagName("b")[0];
                bObject.style.transform = "rotate(90deg)";
            }else{
                t.parentNode.style.height = parentHeight - class_video_count - 20 + "px";
                t.parentNode.parentNode.style.height = parentHeight - class_video_count - 20 + "px";
                t.className = "class_hidden";
                var bObject = t.getElementsByTagName("b")[0];
                bObject.style.transform = "rotate(0deg)";
            }
            setTimeout(function(){
                up_down_animation = false;
            },350);
        }
    }
    var section_2_divArr = document.getElementsByClassName("section_2_div");
    for(var i = 0 ; i < section_2_divArr.length ; i++){
        section_2_divArr[i].style.height = section_2_divArr[i].offsetHeight+ 20 + "px";
    }

    var section_2_divArr = document.getElementsByClassName("section_2_div_div");
    for(var i = 0 ; i < section_2_divArr.length ; i++){
        var t = section_2_divArr[i].getElementsByClassName("class_hidden")[0];
        var parentHeight = document.defaultView.getComputedStyle(t.parentNode,null).height;
        var class_video_count = t.parentNode.getElementsByClassName("class_video").length;
        class_video_count = class_video_count * 57;
        parentHeight = parentHeight.substring(0,parentHeight.indexOf('px'));
        t.parentNode.style.height = parentHeight - class_video_count - 20 + "px";
        t.parentNode.parentNode.style.height = parentHeight - class_video_count - 20 + "px";
    }
    function play_video(urlStr){
        if($("#uid").val() != ""){
            window.open(urlStr,"_blank ");
        }else{
            $("#login_button").click();
        }
    }
</script>
<script src="http://vjs.zencdn.net/5.8.8/video.js"></script>
</html>