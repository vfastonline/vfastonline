<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>瀑布流布局</title>
    <script src="js/jquery-2.1.4.js"></script>
    <style>
.box {
  position: relative;
    height: 100px;
    border:5px solid red;
    margin: 10px 0;
}

    </style>
</head>
<body>
    <div class="main clearfix" id="main">
        <div class="box">11111111111111111111111111</div>
        <div class="box">22222222222222222222222222222</div>
        <div class="box">33333333333333333333333</div>
        <div class="box">444444444444444444444</div>
        <div class="box">55555555555555555555555555</div>
        <div class="box">6666666666666666666666666</div>
        <div class="box">77777777777777777777777777</div>
        <div class="box">8888888888888888888888888</div>
        <div class="box">9999999999999999999999999</div>
        <div class="box">123123123123123123123123123</div>
    </div>
    <script>
$( window ).on( "load", function(){
    //模拟数据json
    var dataJson = {'data': [{'src':'30.jpg'},{'src':'31.jpg'},{'src':'32.jpg'},{'src':'33.jpg'},{'src':'34.jpg'},{'src':'35.jpg'}]};
    window.onscroll=function(){
        var tops = $(document).scrollTop(); //获取滚动条的位置
        var sctop = $(document).height()-$(window).height()-100;
        if(tops >= sctop){
            $.each(dataJson.data,function(index,dom){
                var $box = $('<div class="box"></div>');
                $box.html($(dom).attr('src'));
                $('#main').append($box);
            });
        }
    }
});

</script>
</body>
</html>